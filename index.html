<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Richiesta dati Firebase</title>
</head>
<body>
    <h1>ID:</h1>
    <p id="firebaseData"></p>

    <!-- Includi Firebase App e Firebase Database come moduli -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js";
        import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-database.js";

        // Inizializza Firebase con la tua configurazione
        const firebaseConfig = {
            apiKey: "AIzaSyBpgYB4_8gIT20m9u3sNMpVhqVytrBpZ20",
            authDomain: "test-fire-realtime-db.firebaseapp.com",
            databaseURL: "https://test-fire-realtime-db-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "test-fire-realtime-db",
            storageBucket: "test-fire-realtime-db.appspot.com",
            messagingSenderId: "791679169237",
            appId: "1:791679169237:web:a441e09863db2ad3ff685c",
            measurementId: "G-LGSPN89S5W"
        };
        const firebaseApp = initializeApp(firebaseConfig);

        // Ottieni un riferimento al tuo database
        const database = getDatabase(firebaseApp);

        // Riferimento al nodo del database da cui vuoi ottenere il nome dell'utente
        const dataRef = ref(database, 'test-fire-realtime-db/id');

        // Leggi il nome dell'utente dal database
        get(dataRef)
            .then((snapshot) => {
                const nomeUtente = snapshot.val();
                document.getElementById('firebaseData').textContent = nomeUtente;
            })
            .catch((error) => {
                console.error('Errore nel recupero dei dati:', error);
            });
    </script>
</body>
</html>
